<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">
	
<f:metadata>
	<f:viewParam name="id" value="#{cadastroCategoriaProdutoBean.categoriaProduto.id}" />
		<f:viewAction action="#{cadastroCategoriaProdutoBean.buscar}"
			if="#{param.id ne null}" />
</f:metadata>

<h:head>
	<f:facet name="first">
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="viewport"
			content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
	</f:facet>

	<title>Produtos | Decore Web Store</title>

	<link href="css/bootstrap.css" rel="stylesheet" />
	<link href="css/style.css" rel="stylesheet" />
	
	<link rel="stylesheet" href="css/footer-with-button-logo.css" />
	
	<script src="js/jquery.js"></script>
	<script src="js/bootstrap.min.js"></script>
	
	<style>
		@media ( min-width :220px) {
			.navbar-inverse {
			    z-index: 999999;
			}
			.navbar-brand {
			    padding: 15px 5px;
			}
			.ui-datagrid-content-empty {
			    font-weight: normal
			}
			#myFooter .footer-copyright p {
			    font-size: 12px;
			}
			.logo {
				width:225px;
			}
			#myFooter .row {
			    margin-bottom: 25px;
			}
			footer {
    			padding: 0px 0;
    		}
			body .ui-carousel .ui-carousel-page-links .ui-carousel-page-link {
			    color: #b3b3b3;
			    text-decoration: none;
			}
			body .ui-carousel .ui-carousel-page-links {
			    margin-top: 10px;
			}
			.thumbnail {
			    width: 160px;
			    padding: 0px;
			}
			.ui-carousel .ui-carousel-viewport {
    			margin-top: 25px;
    		}
			.carrosel-2 .ui-widget-header, .carrosel-5 .ui-widget-header {
		    	background: transparent;
		    }
		    .carrosel-2 {
		    	display:block;
		    }
		    .carrosel-5 {
		    	display:none;
		    }
		    body .ui-carousel .ui-carousel-header {
		    	border-bottom: 1px solid #dddddd;
		    }
		    body .ui-carousel .ui-carousel-button {
		    	color: #808080;
		    }
		    body .ui-carousel .ui-carousel-button:hover {
		    	color: #808080ab;
		    }
		    .ui-carousel .ui-carousel-dropdown {
		    	display:none;
		    }
		    body .ui-carousel .ui-carousel-button.ui-carousel-prev-button {
		    	padding: 4px 12px;
			    padding-right: 20px;
			    border: 1px solid #b1acac;
		    }
		    body .ui-carousel .ui-carousel-button.ui-carousel-next-button {
			    padding: 4px 12px;
			    padding-right: 20px;
			    border: 1px solid #b1acac;
			}
			body .ui-carousel .ui-carousel-header {
		    	padding: 6px 3px;
		    }
			body {
				background-color: #fbfaf9;
			}
			body .ui-panel .ui-panel-content {
		    	border: none; 
			    padding: 4px 0px;
	    	}
	    	body .ui-widget-content {
			    border: none; 
			    height: 100%;
			    background-color: #fbfaf9;
			}
			
			.badge-light {
				float: right;
			    margin-top: -8px;
			    font-size: 11px;
			    padding: 2px 4px;
			    background-color: #FEB10F;
			    color: #333333;
			}
			.pedido {
				display:block;
				color: #9d9d9d;
			}
			.pedido a {
				color: #9d9d9d;
				text-decoration:none;
			}
			.pedido a:hover {
				color: white;
			}
			.pedido-menu {
				display:none !important;
			}
			
			.box {
			  position: relative;
			  display: inline-block;
			  /*width: 100px;
			  height: 100px;*/
			  background-color: #fff;
			  /*border-radius: 5px;
			  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);*/
			  -webkit-transition: all 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);
			  transition: all 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);
			}
			
			.box::after {
			  content: "";
			  border-radius: 5px;
			  position: absolute;
			  z-index: -1;
			  top: 0;
			  left: 0;
			  width: 100%;
			  height: 100%;
			  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
			  opacity: 0;
			  -webkit-transition: all 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);
			  transition: all 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);
			}
			
			.box:hover {
			  -webkit-transform: scale(1, 1);
			  transform: scale(1, 1);
			}
			
			.box:hover::after {
			    opacity: 1;
			}
			
			.thumbnail {
				min-height: 236px !important;
			    margin-bottom: 0px;
			    width: 160px;
			}
			
			.panel-img {
    			border-bottom: 1px solid rgba(51,51,51,.1);
    			height:160px
			}
			
			.ui-datagrid-column {
			    width: 224px;
			    margin: 0px 5px;
			}
			.container {
			    padding-right: 15px;
			    padding-left: 15px;
			}
			.ui-carousel .ui-carousel-viewport .ui-carousel-items .ui-carousel-item {
		    	padding: 0px 10px;
		   	 }
		   	 .sem-foto {
		   	 	margin-top: 18px;
		   	 	max-width: 100%; 
		   	 	max-height: 160px;
		   	 }
		   	 .tem-foto {
		   	 	max-width: 100%; 
		   	 	max-height: 135px;
		   	 }	
		   	 .thumbnail .caption {
			    min-height: 80px;
			} 
			.thumbnail img {
    			max-height: 160px;
    			max-width: 100%;
    			padding: 3px;
			} 
			.item-descricao {
				font-size:9px;
				color:#666;
				font-family:verdana;
			} 	 
			.item-preco {
				font-size: 14px;
    			font-weight: normal;
			}
			.panel-produtos.ui-panel .ui-panel-content {
			    border: none;
			    padding: 0px;
			}
			
			.panel-categorias.ui-panel .ui-panel-content {
			    border: none;
			    padding: 0px;
			}
			
			.panel-categorias .panel-img {
			    width: 100%;
			    height: 110px;
			    border-radius: 160px;
			    border: 2px solid #b3b3b3;
			}
			
			.panel-categorias img {
			    border-radius: 110px;
				max-height: 110px !important;
			}
			
			.panel-categorias .thumbnail {
			    background: transparent;
			    border: none;
			    width: 110px;
			}
			
   			.panel-categorias .ui-carousel .ui-carousel-viewport .ui-carousel-items .ui-carousel-item {
			    padding: 0px 8px !important;
			}
   			.panel-categorias .sem-foto {
			    margin-top:5px !important;			    
			}
			
			.anuncios.ui-widget-content {
				width:100% !important;
				margin-top: -50px;
				height: 200px;
			}
			.ui-galleria-filmstrip-wrapper {
		    	width: 62% !important;
		    	margin-top: -251px;
		    }
		    .ui-galleria-panel {
				width: 69% !important;
			}
			
			.panel-categorias.ui-widget-content { 
				height: auto;
			}
			
			.panel-produtos.ui-widget-content { 
				margin-top: -65px !important;
			}
			
			.panel-mais-vendidos.ui-widget-content {
			    margin-top: 10px !important;
			}
			
			.panel-mais-vendidos .ui-carousel .ui-carousel-viewport {
			    margin-top: 20px !important;
			}
			#myFooter ul {
			    font-size: 12px;
			}
			.logotipo {
				margin-left: 14px;
			    width: 33px;
			    height: 35px;
			    margin-top: 8px;
			    padding: 0px;
			}
			
			.spinner {
			  margin: 100px auto;
			  width: 50px;
			  height: 40px;
			  text-align: center;
			  font-size: 10px;
			}
			
			.spinner > div {
			  background-color: white;
			  height: 100%;
			  width: 6px;
			  display: inline-block;
			  
			  -webkit-animation: sk-stretchdelay 1.2s infinite ease-in-out;
			  animation: sk-stretchdelay 1.2s infinite ease-in-out;
			}
			
			.spinner .rect2 {
			  -webkit-animation-delay: -1.1s;
			  animation-delay: -1.1s;
			}
			
			.spinner .rect3 {
			  -webkit-animation-delay: -1.0s;
			  animation-delay: -1.0s;
			}
			
			.spinner .rect4 {
			  -webkit-animation-delay: -0.9s;
			  animation-delay: -0.9s;
			}
			
			.spinner .rect5 {
			  -webkit-animation-delay: -0.8s;
			  animation-delay: -0.8s;
			}
			
			@-webkit-keyframes sk-stretchdelay {
			  0%, 40%, 100% { -webkit-transform: scaleY(0.4) }  
			  20% { -webkit-transform: scaleY(1.0) }
			}
			
			@keyframes sk-stretchdelay {
			  0%, 40%, 100% { 
			    transform: scaleY(0.4);
			    -webkit-transform: scaleY(0.4);
			  }  20% { 
			    transform: scaleY(1.0);
			    -webkit-transform: scaleY(1.0);
			  }
			}
				
			.loading-spinner {
		        background: #2980b9b8;
		        position: fixed;
		        top: 0;
		        right: 0;
		        bottom: 0;
		        left: 0;
		        overflow: hidden;
		        display: none;
		        z-index: 99999;
		    }
		
		    .loading-spinner.active {
		        display: block;		        
		    }
		
		    #hourglass { /* centraliza no meio da tela */
		        position: absolute;
		        top: 50%;
		        left: 50%;
		        margin: -32px 0 0 -32px;
		    }
		}
		
		@media ( min-width :640px) {			
			.logotipo {
				margin-left: 4px;
				margin-top: 7px;
			}
			#myFooter ul {
			    font-size: 14px;
			}
			.logo {
				width:300px;
			}
			#myFooter .row {
			    margin-bottom: 60px;
			}
			.ui-galleria-panel-wrapper {
			    width: 100% !important;
			}
			.panel-categorias.ui-widget-content {
			    margin-top: -30px;
			}
			.anuncios.ui-widget-content {
			    height: 76%;
			}
			.ui-galleria-filmstrip-wrapper {
			    margin-top: -45px;
			}
			.ui-galleria-panel {
			    width: 100% !important;
			}
			.ui-galleria-filmstrip-wrapper {
   				width: 29% !important;
			}
			.panel-categorias .ui-carousel .ui-carousel-viewport .ui-carousel-items .ui-carousel-item {
   				padding: 0px 30px !important;
   			}
			.carrosel-2 {
		    	display:none;
		    }
		    .carrosel-5 {
		    	display:block;
		    }
			.thumbnail img {
				/*max-height: 167px;
    			max-width: 167px;*/
    			max-height: 224px;
    			max-width: 100%;
    			padding: 3px;
			}
			.thumbnail {
				width: 224px;
				padding: 0px;
			}
			.pedido {
				display:none;
			}
			.pedido-menu {
				display:block !important;
			}
			.panel-img {
			    width: 100%;
			    height: 224px;
			}
			.thumbnail .caption {
			    min-height: 86px;
			}
			.sem-foto {
				max-width: 222px; 
				max-height: 223px;
				margin-top: 18px;
			}
			.ui-carousel .ui-carousel-viewport .ui-carousel-items .ui-carousel-item {
		    	padding: 0px 5px;
		   	 }
		   	 
		   	 .container {
			    padding-right: 0px;
			    padding-left: 0px;
			}
			.item-descricao {
				font-size:12px;
			}
			.item-preco {
				font-size: 20px;
			}
			.panel-categorias .item-preco {
			    font-size: 16px;
			}
			
			.panel-categorias .panel-img {
			    height: 130px;
			}
			
			.panel-categorias img {
			    border-radius: 130px;
				max-height: 130px !important;
			}
			
			.panel-categorias .thumbnail {
			    width: 130px;
			}
			
			body .ui-galleria .ui-galleria-nav-prev {
				bottom:38px !important;
			}
			body .ui-galleria .ui-galleria-nav-next {
				bottom:38px !important;
			}
			
			.panel-produtos.ui-widget-content { 
				margin-top: -45px !important;
			}
			
			.panel-mais-vendidos.ui-widget-content {
			    margin-top: 15px !important;
			}
			
			.navbar > .container .navbar-brand {
			    margin-left: 0px;
			}
			#myFooter .footer-copyright p {
			    font-size: 14px;
			}
		}
	</style>

</h:head>

<h:body>

	<div class="navbar navbar-inverse navbar-fixed-top">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse"
					data-target="#myNavbar">
					<span class="icon-bar"></span> <span class="icon-bar"></span> <span
						class="icon-bar"></span>
				</button>
										
				<img class="navbar-brand logotipo" src="img/logo.png" />
				<a class="navbar-brand" onclick="start(this);" href="products.xhtml">Decore Web Store</a>
			</div>
			
			<div class="pedido" style="float: right;margin-top: -32px;margin-right: 56px;">
				<a onclick="start(this);" href="cart.xhtml">Meu Pedido<span class="badge badge-light">#{carrinhoBean.totalDeItens}</span></a>
			</div>
			
			<div class="collapse navbar-collapse" id="myNavbar">
				<ul class="nav navbar-nav navbar-right">
					<li class="pedido-menu"><a onclick="start(this);" href="cart.xhtml"><span
							class="glyphicon glyphicon-shopping-cart"></span>
							 Meu Pedido 
							 <span class="badge badge-light">#{carrinhoBean.totalDeItens}</span></a></li>
					<li><a onclick="start(this);" href="/Dashboard.xhtml"><span
							class="glyphicon glyphicon-log-in"></span> Login</a></li>
				</ul>
			</div>
		</div>
	</div>

	<div class="container" id="content" style="margin-bottom:50px;margin-top:-30px;">
	
	<p:breadCrumb>
		<p:menuitem value="Home" onclick="start(this);" url="products.xhtml" />
	    <p:menuitem value="Categorias" onclick="start(this);" url="products.xhtml" />
	    <p:menuitem value="#{cadastroCategoriaProdutoBean.categoriaProduto.nome}" url="#" />
	</p:breadCrumb>
		
<p:panel styleClass="panel-mais-vendidos">		

		<p:dataGrid styleClass="carrosel-2" var="produto" value="#{cadastroCategoriaProdutoBean.produtosFiltrados}" 		
	        columns="2" emptyMessage="Não existem produtos para essa categoria.">
	        <p:panel style="text-align:center">
	           
	           <p:link onclick="start(this);" href="produto.xhtml?id=#{produto.id}">
	           
					<div class="thumbnail box">
						
						<ui:fragment id="photo"
							rendered="#{produto.urlImagem == null}">
							<div class="panel-img">
								<img class="sem-foto"
									src="img/sem-foto.png" alt="" />
							</div>
						</ui:fragment>
						
						<ui:fragment id="photo"
							rendered="#{produto.urlImagem != null}">
							<div class="panel-img">
								<img class="tem-foto"
									src="#{produto.urlImagem}" />
							</div>
						</ui:fragment>
						
						<div class="caption">
													
							<h:outputText styleClass="item-preco" value="#{produto.precoDeVenda}">
								<f:convertNumber type="currency" />
							</h:outputText>
							
							<br/>
							
							<h:outputText styleClass="item-descricao" style="font-weight:normal;" value="#{produto.descricao}" />
							
							<p:button icon="fa fa-fw fa-list" rendered="false"
								style="margin-top:10px;margin-bottom: 5px;font-size:16px;font-weight: normal;width: 100%;background-color: #337ab7;border-color: #2e6da4;"
								value="Saber Mais" id="foto-button" 
								outcome="produto.xhtml">
		
								<f:param name="id" value="#{produto.id}" />
							</p:button>
	
						</div>
					</div>
					
				</p:link>
				
	        </p:panel>	 
	    </p:dataGrid>
	    
	    <p:dataGrid styleClass="carrosel-5"  var="produto" value="#{cadastroCategoriaProdutoBean.produtosFiltrados}" 
	        columns="5" emptyMessage="Não existem produtos para essa categoria.">
	        <p:panel style="text-align:center">
	           
	           <p:link onclick="start(this);" href="produto.xhtml?id=#{produto.id}">
	           
					<div class="thumbnail box">
						
						<ui:fragment id="photo"
							rendered="#{produto.urlImagem == null}">
							<div class="panel-img">
								<img class="sem-foto"
									src="img/sem-foto.png" alt="" />
							</div>
						</ui:fragment>
						
						<ui:fragment id="photo"
							rendered="#{produto.urlImagem != null}">
							<div class="panel-img">
								<img class="tem-foto"
									src="#{produto.urlImagem}" />
							</div>
						</ui:fragment>
						
						<div class="caption">
													
							<h:outputText styleClass="item-preco" value="#{produto.precoDeVenda}">
								<f:convertNumber type="currency" />
							</h:outputText>
							
							<br/>
							
							<h:outputText styleClass="item-descricao" style="font-weight:normal;" value="#{produto.descricao}" />
							
							<p:button icon="fa fa-fw fa-list" rendered="false"
								style="margin-top:10px;margin-bottom: 5px;font-size:16px;font-weight: normal;width: 100%;background-color: #337ab7;border-color: #2e6da4;"
								value="Saber Mais" id="foto-button" 
								outcome="produto.xhtml">
		
								<f:param name="id" value="#{produto.id}" />
							</p:button>
	
						</div>
					</div>
					
				</p:link>
				
	        </p:panel>	 
	    </p:dataGrid>
	</p:panel>    
	    
	    
		<hr />
	</div>
	
	
	
	<footer id="myFooter">
        <div class="container">
            <div class="row">
                <div class="col-sm-5">
                    <a href="javascript:void(0);">
                    		<img class="logo" src="img/decore-logo.jpg" /></a>
                </div>
                <div class="col-sm-2">
                    <h5>Inicio</h5>
                    <ul>
                        <li><a onclick="start(this);" href="index.xhtml">Home</a></li>
                    </ul>
                </div>
                <div class="col-sm-2">
                    <h5>Contato</h5>
                    <ul>
                        <li><a href="javascript:void(0);">+55 92 99427-9086</a></li>
                        <li><a href="javascript:void(0);">decoreportas@gmail.com</a></li>
                    </ul>
                </div>
                <div class="col-sm-3">
                    <div class="social-networks">
                        <a href="javascript:void(0);" class="twitter"><i class="fa fa-twitter"></i></a>
                        <a href="javascript:void(0);" class="facebook"><i class="fa fa-facebook"></i></a>
                        <a href="javascript:void(0);" class="instagram"><i class="fa fa-instagram"></i></a>
                    </div>
                    <a href="javascript:void(0);" style="display:none;">
                        <button type="button" class="btn btn-default">Contato</button>
                    </a>
                </div>
            </div>
        </div>
        <div class="footer-copyright">
            <p>Copyright © Decore Web Store. Todos os direitos
					reservados.</p>
        </div>
    </footer>
	
	
	<div class="loading-spinner">
		<div id="hourglass" class="spinner">
		  <div class="rect1"></div>
		  <div class="rect2"></div>
		  <div class="rect3"></div>
		  <div class="rect4"></div>
		  <div class="rect5"></div>
		</div>
	</div>
	
	
	<script type="text/javascript">
		var delay = (function() {
		    var timer = 0;
		    return function(callback, ms) {
		        clearTimeout (timer);
		        timer = setTimeout(callback, ms);
		    };
		})();
		
		function start(url) {
			event.preventDefault();
			jQuery(".loading-spinner").fadeIn("slow");
			
			delay(function() {     
					$(location).attr('href',url);
				}, 1500);
		}		
	</script>

</h:body>
</html>
